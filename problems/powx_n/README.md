# Pow(x, n)

## 描述

实现 `pow(x, n)` ，即计算 `x` 的 `n` 次幂函数。

```
输入: 2.00000, 10
输出: 1024.00000
```
```
输入: 2.10000, 3
输出: 9.26100
```
```
输入: 2.00000, -2
输出: 0.25000
解释: 2-2 = 1/22 = 1/4 = 0.25
```

说明:

- $-100.0 < x < 100.0$
- `n` 是 `32` 位有符号整数，其数值范围是 $[−2^{31}, 2^{31} − 1]$ 。

## 解法

此题考点为边界条件的判断、负指数的处理、分治法。首先讲分治法，此处指数 `n` 分为两种情况

- `n` 为奇数时，$x^{2n+1}=x^n \times x^n \times x$
- `n` 为偶数时，$x^{2n}=x^n \times x^n$

简单来说就是我们可以通过先求出 $x^n$ 然后乘以自身来得到结果，由此减少一次同规模的计算。这里需注意分类讨论和递归终止条件 `n = 1` 。然后是负指数的处理，由定义我们可以先将 `x` 变为其倒数，然后将 `n` 变为其相反数来处理，不过在程序中会遇到整型溢出的问题。当 `n` 的值为 `INT_MIN` 时，如果将其变为相反数会导致整型溢出，于是下面的程序中先转换 `x` 然后直接用 `n / 2` 的绝对值来计算，避免了整型溢出。最后就是边界条件 `n = 0` 的判断

## 代码

```cpp
class Solution {
public:
    double myPow(double x, int n) {
        if (n < 0) {
            x = 1 / x;
        }
        if (n == 0) {
            return 1;
        }
        if (n == 1) {
            return x;
        }
        double half = myPow(x, abs(n / 2));
        return (n % 2 == 0) ? half * half : half * half * x;
    }
};
```
